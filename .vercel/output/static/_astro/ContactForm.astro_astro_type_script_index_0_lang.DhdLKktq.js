import{g as T}from"./index.DKtf60Sy.js";import{S as m}from"./ScrollTrigger.BWsqEc1I.js";function d(e){const t=g(e),o=new ArrayBuffer(t.length),r=new DataView(o);for(let s=0;s<o.byteLength;s++)r.setUint8(s,t.charCodeAt(s));return o}const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function g(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",o=0,r=0;for(let s=0;s<e.length;s++)o<<=6,o|=h.indexOf(e[s]),r+=6,r===24&&(t+=String.fromCharCode((o&16711680)>>16),t+=String.fromCharCode((o&65280)>>8),t+=String.fromCharCode(o&255),o=r=0);return r===12?(o>>=4,t+=String.fromCharCode(o)):r===18&&(o>>=2,t+=String.fromCharCode((o&65280)>>8),t+=String.fromCharCode(o&255)),t}const D=-1,U=-2,w=-3,b=-4,C=-5,L=-6;function P(e,t){return F(JSON.parse(e),t)}function F(e,t){if(typeof e=="number")return s(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const o=e,r=Array(o.length);function s(n,u=!1){if(n===D)return;if(n===w)return NaN;if(n===b)return 1/0;if(n===C)return-1/0;if(n===L)return-0;if(u||typeof n!="number")throw new Error("Invalid input");if(n in r)return r[n];const a=o[n];if(!a||typeof a!="object")r[n]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const i=a[0],E=t?.[i];if(E)return r[n]=E(s(a[1]));switch(i){case"Date":r[n]=new Date(a[1]);break;case"Set":const l=new Set;r[n]=l;for(let c=1;c<a.length;c+=1)l.add(s(a[c]));break;case"Map":const R=new Map;r[n]=R;for(let c=1;c<a.length;c+=2)R.set(s(a[c]),s(a[c+1]));break;case"RegExp":r[n]=new RegExp(a[1],a[2]);break;case"Object":r[n]=Object(a[1]);break;case"BigInt":r[n]=BigInt(a[1]);break;case"null":const y=Object.create(null);r[n]=y;for(let c=1;c<a.length;c+=2)y[a[c]]=s(a[c+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const c=globalThis[i],A=new c(s(a[1]));r[n]=a[2]!==void 0?A.subarray(a[2],a[3]):A;break}case"ArrayBuffer":{const c=a[1],A=d(c);r[n]=A;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const c=i.slice(9);r[n]=Temporal[c].from(a[1]);break}case"URL":{const c=new URL(a[1]);r[n]=c;break}case"URLSearchParams":{const c=new URLSearchParams(a[1]);r[n]=c;break}default:throw new Error(`Unknown type ${i}`)}}else{const i=new Array(a.length);r[n]=i;for(let E=0;E<a.length;E+=1){const l=a[E];l!==U&&(i[E]=s(l))}}else{const i={};r[n]=i;for(const E in a){if(E==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const l=a[E];i[E]=s(l)}}return r[n]}return s(0)}function M(e){return e.endsWith("/")?e:e+"/"}const I={actionName:"_action"},k=I,v=M,S={BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,CONTENT_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,MISDIRECTED_REQUEST:421,UNPROCESSABLE_CONTENT:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NETWORK_AUTHENTICATION_REQUIRED:511},B=Object.entries(S).reduce((e,[t,o])=>({...e,[o]:t}),{});class f extends Error{type="AstroActionError";code="INTERNAL_SERVER_ERROR";status=500;constructor(t){super(t.message),this.code=t.code,this.status=f.codeToStatus(t.code),t.stack&&(this.stack=t.stack)}static codeToStatus(t){return S[t]}static statusToCode(t){return B[t]??"INTERNAL_SERVER_ERROR"}static fromJson(t){return G(t)?new V(t.issues):Q(t)?new f(t):new f({code:"INTERNAL_SERVER_ERROR"})}}function Q(e){return typeof e=="object"&&e!=null&&"type"in e&&e.type==="AstroActionError"}function G(e){return typeof e=="object"&&e!=null&&"type"in e&&e.type==="AstroActionInputError"&&"issues"in e&&Array.isArray(e.issues)}class V extends f{type="AstroActionInputError";issues;fields;constructor(t){super({message:`Failed to validate: ${JSON.stringify(t,null,2)}`,code:"BAD_REQUEST"}),this.issues=t,this.fields={};for(const o of t)if(o.path.length>0){const r=o.path[0].toString();this.fields[r]??=[],this.fields[r]?.push(o.message)}}}function _(e){return`?${new URLSearchParams({[I.actionName]:e}).toString()}`}function O(e){if(e.type==="error"){let t;try{t=JSON.parse(e.body)}catch{return{data:void 0,error:new f({message:e.body,code:"INTERNAL_SERVER_ERROR"})}}return{error:f.fromJson(t),data:void 0}}return e.type==="empty"?{data:void 0,error:void 0}:{data:P(e.body,{URL:t=>new URL(t)}),error:void 0}}const Y="%2E";function p(e={},t=""){return new Proxy(e,{get(o,r){if(o.hasOwnProperty(r)||typeof r=="symbol")return o[r];const s=t+encodeURIComponent(r.toString()).replaceAll(".",Y);function n(u){return N(u,s)}return Object.assign(n,{queryString:_(s),toString:()=>n.queryString,bind:n.bind,valueOf:()=>n.valueOf,$$FORM_ACTION:function(){return{method:"POST",name:"_astroAction",action:"?"+new URLSearchParams(n.toString()).toString()}},async orThrow(u){const{data:a,error:i}=await N(u,s);if(i)throw i;return a}}),p(n,s+".")}})}function j(e){let t=`${"/".replace(/\/$/,"")}/_actions/${new URLSearchParams(e.toString()).get(k.actionName)}`;return t=v(t),t}async function N(e,t,o){const r=new Headers;r.set("Accept","application/json");let s=e;if(!(s instanceof FormData)){try{s=JSON.stringify(e)}catch(u){throw new f({code:"BAD_REQUEST",message:`Failed to serialize request body to JSON. Full error: ${u.message}`})}s?r.set("Content-Type","application/json"):r.set("Content-Length","0")}const n=await fetch(j({toString(){return _(t)}}),{method:"POST",body:s,headers:r});return n.status===204?O({type:"empty",status:204}):O({type:n.ok?"data":"error",body:await n.text()})}const $=p();document.addEventListener("DOMContentLoaded",()=>{const e=window.matchMedia("(max-width: 768px)").matches;T.registerPlugin(m),!e&&T.from(".contact-item",{y:()=>T.utils.random(-20,20),x:()=>T.utils.random(50,-50),opacity:0,duration:1,ease:"bounce.out",scrollTrigger:{trigger:".contact-container",start:"top 85%",toggleActions:"play none none reverse"},stagger:.2});const t=document.querySelector("form"),o=document.getElementById("btnSubmit");t.addEventListener("submit",async r=>{r.preventDefault(),o.disabled=!0;const s=new FormData(t),{data:n,error:u}=await $.sendContact(s);if(u){o.disabled=!1;return}n.ok&&(o.disabled=!1,alert(n.message),t.reset())})});
