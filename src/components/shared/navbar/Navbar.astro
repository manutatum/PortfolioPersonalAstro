---
import { navbarItems } from "@/data/navbar/navbar-items.data";
import NavbarItem from "@/components/shared/navbar/NavbarItem.astro";
---

<div class="flex justify-center w-full">
  <nav
    id="navbar"
    class="fixed bottom-0 left-1/2 -translate-x-1/2
        text-white z-[100] border border-transparent
        backdrop-blur-lg transition-all duration-500
        ease-in-out md:top-6 md:bottom-auto w-[100%]"
  >
    <div class="container mx-auto flex justify-center items-center p-3">
      <ul class="flex w-full justify-between gap-6">
        {navbarItems.map((link) => <NavbarItem link={link} />)}
      </ul>
    </div>
  </nav>
</div>

<style>
  #navbar.scrolling {
    border-radius: 9999px;
    border-color: #ffffff10;
    width: 80%;
  }

  @media (max-width: 767px) {
    #navbar {
      width: 100% !important;
      border-radius: 2rem 2rem 0 0;
      border-color: #ffffff20;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    if (typeof window !== "undefined") {
      const navbar = document.getElementById("navbar") as HTMLElement;

      if (window.innerWidth > 767 && window.scrollY > 25) {
        navbar.classList.add("scrolling");
      }

      window.addEventListener("scroll", () => {
        if (window.innerWidth > 767 && window.scrollY > 25) {
          navbar.classList.add("scrolling");
        } else {
          navbar.classList.remove("scrolling");
        }
      });
    }
  });
</script>
